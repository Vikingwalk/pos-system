╔══════════════════════════════════════════════════════════════════════╗
║           CART REMOVE FUNCTIONALITY - BEFORE vs AFTER                ║
╚══════════════════════════════════════════════════════════════════════╝

┌──────────────────────────────────────────────────────────────────────┐
│                           BEFORE (OLD)                               │
└──────────────────────────────────────────────────────────────────────┘

Problem: Clicking "Remove" deletes entire quantity

Cart State:
┏━━━━━━━━━━━┳━━━━━━━┳━━━━━┳━━━━━━━━━━┳━━━━━━━━┓
┃ Product   ┃ Price ┃ Qty ┃ Subtotal ┃ Action ┃
┡━━━━━━━━━━━╇━━━━━━━╇━━━━━╇━━━━━━━━━━╇━━━━━━━━┩
│ Pizza     │ $12.99│  99 │ $1,286.01│[Remove]│
│ Coffee    │ $3.50 │   5 │   $17.50 │[Remove]│
└───────────┴───────┴─────┴──────────┴────────┘

User Action: Click [Remove] on Pizza

Result: ❌ ALL 99 PIZZAS REMOVED

┏━━━━━━━━━━━┳━━━━━━━┳━━━━━┳━━━━━━━━━━┳━━━━━━━━┓
┃ Product   ┃ Price ┃ Qty ┃ Subtotal ┃ Action ┃
┡━━━━━━━━━━━╇━━━━━━━╇━━━━━╇━━━━━━━━━━╇━━━━━━━━┩
│ Coffee    │ $3.50 │   5 │   $17.50 │[Remove]│
└───────────┴───────┴─────┴──────────┴────────┘

Consequence: 
  ✗ If customer wants 50 pizzas instead of 99
  ✗ Must remove all 99 first
  ✗ Then manually re-add 50
  ✗ Time-consuming and error-prone


┌──────────────────────────────────────────────────────────────────────┐
│                           AFTER (NEW)                                │
└──────────────────────────────────────────────────────────────────────┘

Solution: Dialog asks how many to remove

Cart State:
┏━━━━━━━━━━━┳━━━━━━━┳━━━━━┳━━━━━━━━━━┳━━━━━━━━┓
┃ Product   ┃ Price ┃ Qty ┃ Subtotal ┃ Action ┃
┡━━━━━━━━━━━╇━━━━━━━╇━━━━━╇━━━━━━━━━━╇━━━━━━━━┩
│ Pizza     │ $12.99│  99 │ $1,286.01│[Remove]│
│ Coffee    │ $3.50 │   5 │   $17.50 │[Remove]│
└───────────┴───────┴─────┴──────────┴────────┘

User Action: Click [Remove] on Pizza

Dialog Appears:
╔═════════════════════════════════════════╗
║      Remove from Cart                   ║
╠═════════════════════════════════════════╣
║                                         ║
║  Remove: Pizza                          ║
║                                         ║
║  Current quantity: 99                   ║
║  Enter quantity to remove:              ║
║                                         ║
║  ┌──────────────────────────┐           ║
║  │ 50                       │ ◄ USER    ║
║  └──────────────────────────┘   ENTERS  ║
║                                         ║
║       [  OK  ]  [ Cancel ]              ║
║                                         ║
╚═════════════════════════════════════════╝

Result: ✅ 50 PIZZAS REMOVED, 49 REMAIN

┏━━━━━━━━━━━┳━━━━━━━┳━━━━━┳━━━━━━━━━━┳━━━━━━━━┓
┃ Product   ┃ Price ┃ Qty ┃ Subtotal ┃ Action ┃
┡━━━━━━━━━━━╇━━━━━━━╇━━━━━╇━━━━━━━━━━╇━━━━━━━━┩
│ Pizza     │ $12.99│  49 │  $636.51 │[Remove]│
│ Coffee    │ $3.50 │   5 │   $17.50 │[Remove]│
└───────────┴───────┴─────┴──────────┴────────┘

Benefits:
  ✓ Remove exact quantity needed
  ✓ No need to delete and re-add
  ✓ Single operation
  ✓ Prevents mistakes


═══════════════════════════════════════════════════════════════════════
                         COMPARISON TABLE
═══════════════════════════════════════════════════════════════════════

┌────────────────────┬─────────────────┬─────────────────────────────┐
│ Feature            │ BEFORE          │ AFTER                       │
├────────────────────┼─────────────────┼─────────────────────────────┤
│ Remove Action      │ All or nothing  │ User chooses quantity       │
├────────────────────┼─────────────────┼─────────────────────────────┤
│ Dialog             │ No dialog       │ Quantity input dialog       │
├────────────────────┼─────────────────┼─────────────────────────────┤
│ Flexibility        │ Low             │ High                        │
├────────────────────┼─────────────────┼─────────────────────────────┤
│ Steps for partial  │ 3 steps:        │ 1 step:                     │
│ removal            │ 1. Remove all   │ 1. Enter quantity & click OK│
│                    │ 2. Re-add item  │                             │
│                    │ 3. Enter qty    │                             │
├────────────────────┼─────────────────┼─────────────────────────────┤
│ Error risk         │ High            │ Low (with validation)       │
├────────────────────┼─────────────────┼─────────────────────────────┤
│ User confusion     │ High            │ Low (clear instructions)    │
├────────────────────┼─────────────────┼─────────────────────────────┤
│ Speed              │ Slow            │ Fast                        │
└────────────────────┴─────────────────┴─────────────────────────────┘


═══════════════════════════════════════════════════════════════════════
                          USE CASE EXAMPLES
═══════════════════════════════════════════════════════════════════════

USE CASE 1: Reduce quantity
───────────────────────────────────────────────────────────────────────
Scenario: Customer ordered 100 pizzas but only needs 60

BEFORE:
  1. Click Remove → All 100 pizzas deleted
  2. Search for pizza again
  3. Click Add
  4. Enter 60
  5. Click Add to Cart
  → 5 steps, easy to make mistakes

AFTER:
  1. Click Remove
  2. Enter 40 (to remove)
  3. Click OK
  → 3 steps, direct and clear


USE CASE 2: Remove multiple items gradually
───────────────────────────────────────────────────────────────────────
Scenario: Cart has 99 pizzas, need to remove 70 total

BEFORE:
  • Impossible without starting over
  • Must remove all, then add 29

AFTER:
  • Remove 30 → 69 left
  • Remove 20 → 49 left
  • Remove 20 → 29 left
  → Flexible incremental removal


USE CASE 3: Complete removal
───────────────────────────────────────────────────────────────────────
Scenario: Remove entire item from cart

BEFORE:
  1. Click Remove
  → Item deleted

AFTER (same result, more control):
  1. Click Remove
  2. Keep default value (99) or enter current qty
  3. Click OK
  → Item deleted
  → Or just press Enter to accept default


═══════════════════════════════════════════════════════════════════════
                          CODE CHANGE SUMMARY
═══════════════════════════════════════════════════════════════════════

File: src/controllers/CashierController.java
Method: removeItemFromCart(Product item)

Lines Changed: ~73 lines (10 before → 73 after)

Key Additions:
  • TextInputDialog for quantity input
  • Input validation (>0, ≤ current qty)
  • Partial removal logic
  • Updated product creation with reduced quantity
  • Error handling for invalid input
  • User-friendly error messages
  • Console logging for debugging

Dependencies: None (TextInputDialog already available)

Testing Status: Ready for manual testing
Breaking Changes: None
Backward Compatible: Yes


═══════════════════════════════════════════════════════════════════════
                               SUMMARY
═══════════════════════════════════════════════════════════════════════

✅ FIXED: Remove button now supports partial removal
✅ ADDED: Quantity input dialog with validation
✅ IMPROVED: User experience - fewer steps, clearer intent
✅ ENHANCED: Error handling with specific messages
✅ MAINTAINED: All existing functionality intact

The cart removal feature is now significantly more flexible and user-
friendly, allowing cashiers to adjust quantities without the tedious
process of removing and re-adding items.
